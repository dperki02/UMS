<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Admin Panel - Users</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}" />
  </head>
  <body>
    <div class="container">
      <h2>Admin Panel - User Search</h2>
      <nav>
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('register') }}">Register User</a>
      </nav>
      <form
        action="/users"
        method="get">
        <input
          type="text"
          class="form-control"
          name="q"
          placeholder="Search users by name, email or username" />
        <button
          type="submit"
          class="btn btn-primary">
          Search
        </button>
      </form>
      <table class="mt-4">
        <thead>
          <tr>
            <th>ID</th>
            <th>Username</th>
            <th>Name</th>
            <th>Email</th>
          </tr>
        </thead>
        <tbody>
          {% if users %} {% for user in users %}
          <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.first_name }} {{ user.last_name }}</td>
            <td>{{ user.email }}</td>
          </tr>
          {% endfor %} {% else %}
          <tr>
            <td
              colspan="4"
              style="
                color: red;
                font-size: 1.3em;
                font-weight: bold;
                text-align: center;
              ">
              No users found.
            </td>
          </tr>
          {% endif %}
        </tbody>
      </table>
    </div>
  </body>
</html>
